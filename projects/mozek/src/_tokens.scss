// ============================================================================
// monzar Design Tokens
// ============================================================================
// Base design decisions: colors, radius, spacing, typography.
// -----------------------------------------------------------------------------
// Author: thecodemeor
// Version: 1.0
// -----------------------------------------------------------------------------


@use "sass:map";
@use "color-palette" as palette;

// ---------------------------------------------
// General
// ---------------------------------------------
@function mon-get-color($name, $shade) {
    $family: map.get(palette.$colors, $name);
    @if $family == null {
        @warn "Unknown color family `#{$name}`.";
        @return null;
    }

    $tone: map.get($family, $shade);
    @if $tone == null {
        @warn "Unknown shade `#{$shade}` for family `#{$name}`.";
        @return null;
    }

    @return $tone;
}

// Brand families (can be overridden before import)
$mon-brand-primary: malibu !default;
$mon-brand-secondary: violet !default;

// Spacing scale used to emit CSS vars
$scale: (
    0: 0,
    1: 0.5rem,
    2: 1rem,
    3: 1.5rem,
    4: 2rem,
    5: 2.5rem,
    6: 3rem,
    7: 3.5rem,
    8: 4rem,
    9: 4.5rem,
    10: 5rem
);

// ---------------------------------------------
// Theme Mixins (Light / Dark)
// ---------------------------------------------
@mixin mon-theme-light() {
    /* Main Palette (build-time brand choices) */
    --mon-color-primary: #{mon-get-color($mon-brand-primary, 500)};
    --mon-color-primary-lite: #{mon-get-color($mon-brand-primary, 200)};
    --mon-color-primary-dark: #{mon-get-color($mon-brand-primary, 800)};
    --mon-color-primary-mute: #{mon-get-color(silver, 400)};

    --mon-color-secondary: #{mon-get-color($mon-brand-secondary, 500)};
    --mon-color-secondary-lite: #{mon-get-color($mon-brand-secondary, 200)};
    --mon-color-secondary-dark: #{mon-get-color($mon-brand-secondary, 800)};

    /* Standard Colors */
    --mon-color-background: #ffffff;
    --mon-color-default: #000000;
    --mon-color-surface: #fefefe;
    --mon-color-text: #343434;

    /* Feedback Colors */
    --mon-color-success: #{mon-get-color(chartreuse, 600)};
    --mon-color-warning: #{mon-get-color(amber, 500)};
    --mon-color-danger:  #{mon-get-color(red, 700)};
}

@mixin mon-theme-dark() {
    /* You can tune these to taste */
    --mon-color-primary: #{mon-get-color($mon-brand-primary, 300)};
    --mon-color-primary-lite: #{mon-get-color($mon-brand-primary, 200)};
    --mon-color-primary-dark: #{mon-get-color($mon-brand-primary, 500)};
    --mon-color-primary-mute: #{mon-get-color(silver, 500)};

    --mon-color-secondary: #{mon-get-color($mon-brand-secondary, 400)};
    --mon-color-secondary-lite: #{mon-get-color($mon-brand-secondary, 300)};
    --mon-color-secondary-dark: #{mon-get-color($mon-brand-secondary, 600)};

    --mon-color-background: #050816;
    --mon-color-surface:    #0b1020;
    --mon-color-text:       #f3f4f6;
    --mon-color-default:    #ffffff;
    --mon-color-border:     color-mix(in srgb, var(--mon-color-text) 15%, transparent);

    --mon-color-success: #{mon-get-color(chartreuse, 400)};
    --mon-color-warning: #{mon-get-color(amber, 400)};
    --mon-color-danger:  #{mon-get-color(red, 400)};
}

:root[data-theme="light"], :root,
body.light-theme,
body {
    @include mon-theme-light();
}
:root[data-theme="dark"],
body.dark-theme {
    @include mon-theme-dark();
}


// ---------------------------------------------
// Root Tokens (non-theme + default theme)
// ---------------------------------------------
:root {
    /* Spacing Scale ----------------------------------------------- */
    @each $pref, $val in $scale {
        --mon-space-#{$pref}: #{$val};
    }

    /* Radius ------------------------------------------------------ */
    --mon-radius-sm: calc(1.25rem - var(--mon-space-1));
    --mon-radius-default: 1.25rem;
    --mon-radius-lg: calc(1.25rem + var(--mon-space-1));
    --mon-radius-xl: calc(1.25rem + var(--mon-space-2));
    --mon-radius-pill: 9999px;

    /* Motion ------------------------------------------------------ */
    --mon-duration-fast: 0.1s;
    --mon-duration: 0.3s;
    
    /* Color fade percent ------------------------------------------ */
    --mon-fade-hover: 10%;
    --mon-fade-border: 20%;
    --mon-fade-hover-dark: 30%;
    --mon-fade-outline: 50%;
    --mon-fade-placeholder: 60%;
    --mon-fade-border-dark: 80%

    /* Typography -------------------------------------------------- */
    --mon-font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI",
        Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
    --mon-font-size: 1rem;
    --mon-line-height: 1;
    
    /* Font weight ------------------------------------------------- */
    --mon-font-weight-regular: 400;
    --mon-font-weight-medium: 500;
    --mon-font-weight-semibold: 600;
    --mon-font-weight-bold: 700;
}

// ---------------------------------------------
// Typography Mixin
// ---------------------------------------------
@mixin mon-typography($style) {
    // Mobile-first styles
    @if $style == 'title-lg' {
        font-size: 2rem;
        line-height: 2rem;
        @media (min-width: 1024px) {
            font-size: 3rem;
            line-height: 3rem;
        }

    } @else if $style == 'title-md' {
        font-size: 1.75rem;
        line-height: 1.75rem;
        @media (min-width: 1024px) {
            font-size: 2.5rem;
            line-height: 2.5rem;
        }

    } @else if $style == 'title-sm' {
        font-size: 1.5rem;
        line-height: 1.5rem;
        @media (min-width: 1024px) {
            font-size: 2rem;
            line-height: 2rem;
        }

    } @else if $style == 'label-lg' {
        font-size: 1.25rem;
        line-height: 1.25rem;
        @media (min-width: 1024px) {
            font-size: 1.75rem;
            line-height: 1.75rem;
        }

    } @else if $style == 'label-md' {
        font-size: 1.125rem;
        line-height: 1.125rem;
        @media (min-width: 1024px) {
            font-size: 1.5rem;
            line-height: 1.5rem;
        }

    } @else if $style == 'label-sm' {
        font-size: 1rem;
        line-height: 1rem;
        @media (min-width: 1024px) {
            font-size: 1.25rem;
            line-height: 1.25rem;
        }

    } @else if $style == 'default' {
        font-size: 0.8rem;
        line-height: 1rem;
        @media (min-width: 1024px) {
            font-size: 1rem;
        }

    } @else if $style == 'caption' {
        font-size: 0.7rem;
        line-height: 1rem;
        @media (min-width: 1024px) {
            font-size: 0.8rem;
            line-height: 1rem;
        }

    } @else if $style == 'footer' {
        font-size: 0.625rem;
        line-height: 1rem;
        @media (min-width: 1024px) {
            font-size: 0.725rem;
            line-height: 1rem;
        }

    } @else {
        @warn "Unknown typography style: #{$style}";
    }
}

// ---------------------------------------------
// Basic Component Preferences
// ---------------------------------------------
/* Button ------------------------------------------------------ */
@mixin root-button() {
    display: flex;
    justify-content: center;
    align-items: center;
    font: inherit;
    line-height: 1;
    text-decoration: none;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
    cursor: pointer;
}

/* Border ------------------------------------------------------ */
@mixin root-border() {
    border-style: solid;
    border-width: 0.1rem;
    border-color: color-mix(in srgb, var(--mon-color-text) var(--mon-fade-border), white);;
}

/* Shadow / Elevation ------------------------------------------ */
@mixin root-shadow($level) {
    @if $level == 1 {
        box-shadow: 0 1px 2px 0 rgba(60,64,67,.08),
        0 1px 3px 1px rgba(60,64,67,.03);
    } @else if $level == 2 {
        box-shadow: 0 3px 4px 0 rgba(60,64,67,.08),
        0 3px 6px 1px rgba(60,64,67,.03);
    } @else if $level == 3 {
        box-shadow: 0 5px 6px 0 rgba(60,64,67,.08),
        0 5px 9px 1px rgba(60,64,67,.03);
    } @else {
        @warn "Unknown shadow level: #{$level}";
    }
}